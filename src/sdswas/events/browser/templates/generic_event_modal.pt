<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="sdswas.events">


<metal:row define-macro="main-content" i18n:domain="sdswas.events"
        tal:define = "images python:view.images();
                    numPresentations python:view.numPresentations();
                    hasPresentations python: numPresentations > 0;
                    agenda context/document;">

    <!-- Modal window title -->
    <div tal:replace="structure context/modwin_page_title"/>
    <!-- Modal window title ends-->

    <!-- Modal window text -->
    <section class="modwin-text-section">

        <div class="modwin-text-wrap modwin-padding">

            <!-- Menu -->
            <div metal:use-macro="context/events_utils/macros/generic_event_menu"/>
            <!-- Menu ends -->

            <div class="modwin-text-container">
                <div class="modwin-text">
                    <h2>Summary</h2>
                    <p tal:content="structure context/full_description/raw" />
                </div>

                <div class="modwin-text-cta">
                    <!-- Add to calendar button -->
                    <a class="modwin-cta-within-text" href="https://calendar.google.com/calendar/r/eventedit?text=New+BSC+Event&dates=20210512T230000Z/20210513T030000Z&details=For+details,+link+here:+https://www.bsc.es/&location=Barcelona+Supercomputing+Center+-+Centre+Nacional+de+SupercomputaciÃ³" target="_blank">
                    <p>Add to calendar</p>
                    </a>

                    <!-- Register button -->
                    <a class="modwin-cta-within-text" href="#" target="_self">
                    <p>Register</p>
                    </a>
                </div>
            </div>
        </div>

    </section><!-- Modal window text ends -->

    <!-- Modal window sidepanel section -->
    <section class="modwin-sidepanel-section">
        <div class="modwin-sidepanel-wrap modwin-padding">
            <div class="modwin-sidepanel-container">

            <!-- Modal window sidepanel -->
            <div class="modwin-sidepanel">

                <!-- Sidepanel info card -->
                <div class="sidepanel-info-card">
                    <div class="info-card-content">

                        <h3 tal:content="view/start">-</h3>

                        <div class="info-card-small-info"
                            tal:condition="context/location" >
                            <p tal:content="structure view/w/IEventLocation.location/render">-</p>
                        </div>

                        <div class="info-card-data">
                            <p class="text-bold">Place</p>
                            <p tal:content="structure view/w/place/render">-</p>
                        </div>

                        <div class="info-card-data">
                            <p class="text-bold">Presented by</p>
                            <p tal:content="structure view/w/presented_by/render"/>
                        </div>

                        <!-- Info card subcontent -->
                        <div class="info-card-subcontent">

                            <div class="info-card-data">
                                <p class="text-bold">Event type</p>
                                <p tal:content="structure view/w/event_type/render">-</p>
                            </div>

                            <div class="info-card-data">
                                <p class="text-bold">Time</p>
                                <p tal:content="view/time">-</p>
                            </div>

                            <div class="info-card-data">
                                <p class="text-bold">Language</p>
                                <p tal:content="view/language">-</p>
                            </div>

                            <div class="info-card-data">
                                <p class="text-bold">Duration</p>
                                <p tal:content="view/duration" >-</p>
                            </div>

                        </div><!-- Info card subcontent ends  -->

                        <a class="info-card-data">
                            <p class="text-bold" tal:content="structure view/w/website_url/render">-</p>
                        </a>

                    </div><!-- Info card content ends  -->

                </div><!-- Sidepanel info card ends -->

                <!-- Sidepanel cta component -->
                <div id="agenda" class="sidepanel-cta-component"
                    tal:condition="nocall:agenda">
                        <div tal:define="title string:Agenda"
                            metal:use-macro="context/events_utils/macros/filedownload"/>
                </div>  <!-- Sidepanel cta component ends -->

                <!-- Sidepanel share component -->
                <div class="sidepanel-share-component" metal:use-macro="context/events_utils/macros/share-buttons"/>
                <!-- Sidepanel share component ends -->

            </div>
            <!-- Modal window sidepanel ends -->

            </div>
        </div>
    </section>

    <!-- Modal window image slider -->
    <section id="images" class="modwin-img-slider-section"
            tal:condition="nocall:images">
        <div class="modwin-cards-wrap modwin-padding">
            <div class="modwin-cards-container">

                <div class="modwin-cards-header">
                    <h3>Images</h3>
                </div>
            </div>
        </div>

    </section><!-- News slider ends -->

    <section id="presentations"
            tal:condition="python: numPresentations > 1"
            class="modwin-cards-section">

        <div class="modwin-cards-wrap modwin-padding">
            <div class="modwin-cards-container">

                <div class="modwin-cards-header">
                    <h3>Presentations</h3>

                    <div class="modwin-cards-header-toolbar">
                        <!-- Search tool -->
                        <div id="modwin-cards-search-tool" class="search-tool-container">
                            <form action="#">
                            <input class="search-tool-input" type="text" placeholder="Search..." name="search">
                            <span class="search-icon icon-search"></span>
                            </form>
                        </div><!-- Search tool ends -->

                        <a  id="download-all-cta" tal:condition="hasPresentations"
                            class="outlined-cta" href="#" target="_self">
                            <p>Download all</p>
                            <i class="icon-download"></i>
                        </a>
                    </div>

                </div>

                <!-- Modular window cards -->
                <div class="modwin-cards"
                        tal:attributes="data-url string:${context/absolute_url}/presentations_list">
                </div>

            </div>
        </div>
    </section>
  </metal:row>
</html>